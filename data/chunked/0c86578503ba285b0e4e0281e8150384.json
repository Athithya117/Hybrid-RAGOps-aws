[
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_1_sub_0",
    "chunk_type": "page_subchunk",
    "text": "HyFedRAG: A Federated Retrieval-Augmented Generation Framework\n\nfor Heterogeneous and Privacy-Sensitive Data\n\nChengQian1,HainanZhang2,YongxinTong3,Hong-WeiZheng4,ZhimingZheng5\n\n1BeijingAdvancedInnovationCenterforFutureBlockchainandPrivacyComputing\n\n2InstituteofArtificialIntelligence,BeihangUniversity,China\n\nalpacino@buaa.edu.cn,zhanghainan1990@163.com\n\nI would like to review the article entitled \"Clinical\n\nmanifestation and prognostic factor in anti-melanoma\n\ndifferentiation-associated gene...\n\nHOSPITALA\n\nHOSPITAL C\n\nHOSPITALB\n\nDOCUMENT\n\nKNOWLEDGE\n\nDATABASES\n\nARCHIVES\n\nGRAPH\n\n[Text] a 50-year-old\n\n[Table] Patient UID:\n\n[KG triple]\n\nCaucasian woman,\n\n8708605-1,\n\nPatient UID 6039648-\n\npreviously in good\n\n1DIAGNOSEDWITH\n\nhealth, developed\n\nGender: F,\n\nAnti-MDA5_Antibody,\n\ncutaneous\n\nTitle: Combination\n\nTREATEDWITH\n\nPrednisolone...\n\nerythematosuspapular\n\nTherapy with Rituximab...\n\nlesions both on the...\n\nAbstract\n\nCentralizedRAGpipelinesstrugglewithheterogeneousand\n\nprivacy-sensitive data, especially in distributed healthcare\n\nsettings where patient data spans SQL, knowledge graphs,\n\nandclinicalnotes.Cliniciansfacedifficultiesretrievingrare\n\ndisease cases due to privacy constraints and the limita-\n\ntions of traditional cloud-based RAG systems in handling\n\ndiverse formats and edge devices. To address this, we in-\n\ntroduce HyFedRAG, a unified and efficient Federated RAG\n\nframework tailored for Hybrid data modalities. By leverag-\n\ninganedge-cloudcollaborativemechanism,HyFedRAGen-\n\nablesRAGtooperateacrossdiversedatasourceswhilepre-\n\nserving data privacy. Our key contributions are: (1) We de-\n\nsign an edge-cloud collaborative RAG framework built on\n\nFlower,whichsupportsqueryingstructuredSQLdata,semi-\n\nstructured knowledge graphs, and unstructured documents.\n\nThe edge-side LLMs convert diverse data into standardized\n\nprivacy-preservingrepresentations,andtheserver-sideLLMs\n\nintegrates them for global reasoning and generation. (2)\n\nFigure1:Inprivacy-s",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 1,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:50.383272Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_1_sub_1",
    "chunk_type": "page_subchunk",
    "text": "structured knowledge graphs, and unstructured documents.\n\nThe edge-side LLMs convert diverse data into standardized\n\nprivacy-preservingrepresentations,andtheserver-sideLLMs\n\nintegrates them for global reasoning and generation. (2)\n\nFigure1:Inprivacy-sensitivemedicalenvironments,thehet-\n\nWeintegratelightweightlocalretrieverswithprivacy-aware\n\nerogeneousstorageformatsemployedbydifferenthospitals,\n\nLLMsandprovidethreeanonymizationtoolsthatenableeach\n\ncombined with stringent privacy protection requirements,\n\nclienttoproducesemanticallyrich,de-identifiedsummaries\n\nhinder data interoperability and pose significant challenges\n\nforglobalinferenceacrossdevices.(3)Tooptimizeresponse\n\nforcross-institutionalqueries.\n\nlatencyandreduceredundantcomputation,wedesignathree-\n\ntier caching strategy consisting of local cache, intermediate\n\nrepresentationcache,andcloudinferencecache.Experimen-\n\ntalresultsonPMC-PatientsdemonstratethatHyFedRAGout-\n\nstruggling to handle multiple heterogeneous data formats\n\nperformsexistingbaselinesintermsofretrievalquality,gen-\n\nwithinasingleworkflow(BehnamGhaderetal.2024),such\n\neration consistency, and system efficiency. Our framework\n\nas structured tables(Kong et al. 2024), semi-structured\n\noffers a scalable and privacy-compliant solution for RAG\n\nknowledge-graph triples(Huang et al. 2023), and unstruc-\n\noverstructural-heterogeneousdata,unlockingthepotentialof\n\nturedfreetext.Forexample,aretrieverspecializedintable-\n\nLLMsinsensitiveanddiversedataenvironments.\n\nbased retrieval(Herzig et al. 2021) cannot be easily ap-\n\nplied to knowledge graph-based question answering (QA)\n\n1 Introduction\n\ntasks(BehnamGhaderetal.2024).\n\nThis shortfall is especially problematic in\n\nLarge language models (LLMs) have demonstrated re-\n\nprivacy-sensitive domains like healthcare, where pa-\n\nmarkable proficiency in natural language understanding\n\ntient data spans electronic health record tables, pathology\n\nand generation(Achiam et al. 2023), but they are prone\n\nreports(Zhao et al. 2022; Zheng et al. 2024), imaging\n\nto “hallucinations” caused by missing or outdated knowl-\n\nmetadata,andgenomicprofiles.Eachstoredunderdifferent\n\nedge(Schick et al. 2023). Retrieval",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 1,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:50.384131Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_1_sub_2",
    "chunk_type": "page_subchunk",
    "text": "2; Zheng et al. 2024), imaging\n\nto “hallucinations” caused by missing or outdated knowl-\n\nmetadata,andgenomicprofiles.Eachstoredunderdifferent\n\nedge(Schick et al. 2023). Retrieval-Augmented Generation\n\nconventionsandprotectedbyregulationssuchasGDPRand\n\n(RAG)(Seo 2024; Zhang et al. 2024) addresses this by\n\nHIPAAthatforbidcentralizingrawrecords.Forexamplein\n\ninvoking external search(Zhao et al. 2024; Wang et al.\n\nFigure 1, clinicians face challenges retrieving rare disease\n\n2025a) or database queries at inference time, injecting\n\ncases due to privacy restrictions on raw data access and\n\nup-to-date, domain-specific information to improve han-\n\nthe limitations of traditional cloud-based RAG systems in\n\ndlingoflong-tailentitiesandspecializedterminology.\n\nhandlingdiverseedgedevicesandinconsistentformats.\n\nHowever, existing RAG systems typically assume a ho-\n\nmogeneous repository (e.g., only text or only graphs), Tofacilitaterealisticcross-institutionfederatedRAG,we",
    "token_count": 243,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 1,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1164
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:50.384883Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_2_sub_0",
    "chunk_type": "page_subchunk",
    "text": "proposeHyFedRAG,aunifiedandefficientfederatedRAG hancing cross-source integration and reasoning. However,\n\nframework for hybrid data structures. Our framework of- UniHGKR is primarily designed for a centralized architec-\n\nfers a scalable and privacy-compliant solution for RAG tureanddoesnotaddressthechallengesofefficienthetero-\n\nover structural-heterogeneous data, unlocking the potential geneous retrieval in distributed, privacy-sensitive environ-\n\nofLLMsinsensitiveanddiversedataenvironments.Ourkey ments. Similarly, Christmann and Weikum (2024) explores\n\ncontributionsareasfollows: the use of retrieval-augmented generation to boost the ac-\n\ncuracy and robustness of QA systems when handling un-\n\nFederated Hybrid RAG Architecture.\n\nstructuredinputssuchastablesandimages,yetitofferslim-\n\nsign an edge–cloud collaborative pipeline based on\n\nited insight into the fusion of multi-source retrieval results\n\nFlower(Beutel et al. 2020), facilitating seamless query-\n\nor into mechanisms for preserving privacy during process-\n\ning over structured SQL databases, semi-structured\n\ning.Theseapproachesabovealltendtobuildasingle,unified\n\nknowledge graphs, and unstructured text corpora.\n\nheterogeneous-dataretriever—overlookingtheuniquechar-\n\nEdge-side LLMs handle data conversion into unified\n\nacteristics of each data format—and they also expose pri-\n\nand privacy-conscious formats, while cloud-side LLMs\n\nvate information when data sources communicate with one\n\naggregate and reason over these representations to\n\nanother.\n\ngeneratecomprehensiveoutputs.\n\nIndistributedsettings—especiallywithinfederatedlearn-\n\nPrivacy-Aware Summarization.\n\n2. We incorporate effi-\n\ning and multimodal systems—efficient caching and the re-\n\ncient local retrieval modules combined with privacy-\n\nduction of redundant computations are crucial for main-\n\npreserving LLMs and introduce three anonymization\n\ntaining high performance. For example,Wu et al. (2024)\n\nmechanisms, Presidio-based masking (Microsoft 2021),\n\nintroduces a hierarchical cache of model outputs and\n\nEraser4RAG(Wangetal.2025b),andTenSEAL-enabled\n\nfeature embeddings at client and server levels, enabling\n\ntensorencryption(Benaissaetal.2021).,allowingclients\n\npersonalized on-device inference while minimizing com-\n\nto generate de-identified yet semantically meaningful\n\nmunication",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 2,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:53.697518Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_2_sub_1",
    "chunk_type": "page_subchunk",
    "text": "-enabled\n\nfeature embeddings at client and server levels, enabling\n\ntensorencryption(Benaissaetal.2021).,allowingclients\n\npersonalized on-device inference while minimizing com-\n\nto generate de-identified yet semantically meaningful\n\nmunication overhead. Meanwhile,Balasubramanian et al.\n\nsummariesforcross-institutionglobalreasoning.\n\n(2021) demonstrates how learned caching layers can pre-\n\nThree-Tier Caching Mechanism.\n\n3. To accelerate infer-\n\ndict and reuse frequently accessed intermediate represen-\n\nenceandreducecommunicationoverhead,weimplement\n\ntations to speed up inference on a single node. How-\n\ncaching at (i) direct Summary Features, (ii) one-Hop\n\never, FedCache focuses on classification and personaliza-\n\nNeighbor Prefetch, and (iii) cold-Start + Two-Hop\n\ntion in edge environments without addressing multimodal\n\nNeighbor Prefetch, achieving up to 80% reduction in\n\nretrieval,andLearnedCachestargetsingle-nodedeployment\n\nend-to-endlatency.\n\nwithout consideration for privacy or heterogeneity across\n\n4. Comprehensive Evaluation. We conduct extensive ex-\n\nclients.Buildingontheseadvances,HyFedRAGimplements\n\nperiments on both synthetic and real-world healthcare\n\na three-tier caching acceleration mechanism—caching lo-\n\nbenchmarks.ResultsshowthatHyFedRAGconsistently\n\ncal summary features, summary-to-LLM-input transforma-\n\noutperforms centralized RAG and existing federated\n\ntions, and high-frequency inference outputs—to minimize\n\nbaselines in retrieval accuracy, generation consistency,\n\ncross-clientcommunicationlatencyandcomputationalbur-\n\nandsystemthroughput.\n\nden,therebyenhancingbothsystemthroughputandrespon-\n\nsiveness.\n\n2 RelatedWorks\n\n3 Methodology\n\nIn the domain of heterogeneous knowledge retrieval, sev-\n\neral studies have sought to integrate information from dis-\n\nIn this section, we will introduce the overall framework of\n\nparate data sources. However, existing approaches exhibit\n\nHyFedRAG, the functional design of various modules, and\n\nnotablelimitations.Forinstance,Lietal.(2021)andKosti´\n\nthedefinitionoftheretrievalscenarios.\n\nRisch,andM¨ oller(2021)constructseparateretrievalindices\n\nfor each data modality—text, tabular data, and knowledge\n\n3.1 OverviewofHyFedRAG\n\ngraphs—andperformretrievalindependentlyone",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 2,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:53.698402Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_2_sub_2",
    "chunk_type": "page_subchunk",
    "text": "¨ oller(2021)constructseparateretrievalindices\n\nfor each data modality—text, tabular data, and knowledge\n\n3.1 OverviewofHyFedRAG\n\ngraphs—andperformretrievalindependentlyoneachindex,\n\nHyFedRAGisanend-to-endfederatedretrievalandgenera-\n\na strategy that fails to support privacy-preserving retrieval\n\ntion framework designed for cross-client, multi-source het-\n\nacross different data sources. By contrast, the UDT-QA\n\nerogeneousdata. Itsarchitecture comprisesthree hierarchi-\n\nframeworkproposedbyMaetal.(2022)introducesamulti-\n\ncallayers:theClientLayer,theMiddlewareLayer,andthe\n\nmodalpipelinecomprisingagenerator,retriever,andreader:\n\nCentralServerLayer.Weimplementthefederatedworkflow\n\na fine-tuned generative model first converts heterogeneous\n\nusing the Flower framework, storing each data modality in\n\ninputs into a homogeneous textual representation, which is\n\nthefollowingsystems:\n\ntheningestedbyadownstreamreader.Althoughthismethod\n\nleverages multiple heterogeneous data sources, its retrieval\n\nUnstructuredText:FAISSvectordatabase\n\nisfocusedontheinputtext—hinderinggeneralization—and\n\nStructuredData:ClientsideSQLdatabase\n\nit likewise fails to support privacy preservation across data\n\n• KnowledgeGraphs:Neo4jgraphdatabase\n\nsources. (Huang et al. (2019); Lin et al. (2023)). The Uni-\n\nHGKR framework (Min et al. 2025) addresses this gap by\n\nproviding an instruction-aware retrieval interface that uni- Client Layer At the client layer, HyFedRAG performs\n\nfies text, knowledge graphs, and tables, substantially en- multimodal retrieval and preliminary summary generation",
    "token_count": 373,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 2,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1294
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:53.699042Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_3_sub_0",
    "chunk_type": "page_subchunk",
    "text": "USER QUERY\n\nStage1:\n\nStage2:\n\nStage3:\n\nmultiple clients IR\n\nPrivacy-Preserving\n\nResponse Generation\n\nsummary generation\n\nCache\n\nLocal Retriever\n\nLocal LLMA\n\nprivcay\n\npreserved\n\npreserved!\n\nLocal LLM B\n\nPrivacy-\n\nGlobal LLM Fusion\n\nTOOLS\n\naware\n\nsummariza\n\nLocal LLM C\n\nClinet A\n\nClinet B\n\nClinet C\n\nStore\n\nUSERQUERY\n\nAnonymizati\n\nRESPONSE\n\non Tools\n\nDatabase\n\nAdjacency\n\nFigure 2: Overview of the HyFedRAG architecture. In Stage 1, multiple clients (SQL, KG, Text) perform local retrieval and\n\nloadpre-constructedadjacencytopredictpossiblesubsequentinputs;inStage2,eachclientusesalocalLLMandanonymiza-\n\ntion tools to generate privacy-preserving summaries, which are cached in L2/L3; finally, in Stage 3, a global LLM fuses the\n\nanonymizedsummariestoproducetheuserqueryresponse.\n\nandanabstractb,weformthequeryq = (t, b).Inthefed-\n\ndirectly within each participant’s local environment, ensur-\n\neratedsetting,assumethereareM\n\ningthatrawsensitivedataneverleavetheclient.Thework- hospitalsordatasources,\n\nflowincludes: and each client locally maintains a collection of patient\n\nrecords where each record\n\n1. Construction of multimodal indices (text embeddings,\n\ncontains structured fields, semi-structured triples, and\n\nrelational-tableindices,graphqueryinterfaces)\n\nunstructuredtext.\n\n2. Localsimilarityretrieval\n\nTheretrievalgoalis,foreachclienti,toreturnthetopK\n\n3. Privacy-awaresummarygeneration(de-identification)\n\nmostsimilarpatientUIDs:R (q)= p , p , ...,p\n\nsuchthatthesimilarityscoress q, d\n\narehighestwithin\n\nMiddleware Layer\n\nThe middleware layer provides\n\n. The system then aggregates all and their corre-\n\nmulti-tier caching and scheduling between clients and the\n\nspondingsummariesσ(d )atthecentralservertoproduce\n\ncentral server, significantly improving the efficiency and\n\naglobalretrievalreport.\n\nscalabilityoftheretrieval-and-generationpipelinethrough:\n\nThisretrievalscenarioemphasizes:\n\nTier 1 Cache:\n\n• Local summary features to avoid redun-\n\ndantpreprocessing\n\nMulti",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 3,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:59.047485Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_3_sub_1",
    "chunk_type": "page_subchunk",
    "text": "\n\naglobalretrievalreport.\n\nscalabilityoftheretrieval-and-generationpipelinethrough:\n\nThisretrievalscenarioemphasizes:\n\nTier 1 Cache:\n\n• Local summary features to avoid redun-\n\ndantpreprocessing\n\nMulti-source heterogeneity:\n\n• each client holds only one\n\ndata modality (structured, semi-structured, or unstruc-\n\nTier 2 Cache:\n\n• Summary-to-LLM-input transformations\n\ntured)toreflectreal-worldinstitutionalstorage;\n\ntoreduceencodingoverhead\n\nTier3Cache:High-frequencyinferenceoutputstomin-\n\nPrivacy preservation:\n\n• raw records remain local and are\n\nimizeduplicateLLMcalls\n\nnevershared;\n\nFederated collaboration:\n\n• each client independently re-\n\nCentral Server Layer\n\nThe central server aggregates\n\ntrieves and generates de-identified summaries, and the\n\nde-identified summaries from all clients and invokes open\n\nserverprocessesonlythesesummaries.\n\nLLMAPIsdeployedinaprivatecloudortrustedexecution\n\nenvironmenttoperformunifiedinferenceandfusion.Itthen\n\nIn subsequent sections, we detail the implementation of\n\ngenerates the final retrieval report, ensuring global consis-\n\nclient-sideretrieval,privacy-awaresummarygeneration,and\n\ntencywhilerespectingeachinstitution’sdataheterogeneity.\n\nthemulti-tiercachingaccelerationmechanism.\n\n3.2 RetrievalScenarioDefinition\n\n3.3 RetrievalModule\n\nThis study takes a literature-based similar-patient retrieval\n\ntaskasatypicalscenario.Givenaclinicalcasearticlefrom Inthissubsection,wedescribetheconstructionofthreedis-\n\nPMC(Zhaoetal.2022),whosestructurecomprisesatitlet\n\ntinctclientretrievalmodules.",
    "token_count": 361,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 3,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      821
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:59.048362Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_4_sub_0",
    "chunk_type": "page_subchunk",
    "text": "(1) Text Retrieval Module Semantic Matching Stage:\n\nFor a user-provided title and 2. For entities that fail ex-\n\ntext snippet, HyFedRAG’s text retrieval module first con- act matching, form query pairs with all candidate\n\ncatenates them into a single query string and concurrently and invoke the locally de-\n\ninvokesbothsparseanddenseretrievalpipelines.Sparsere- ployedFlagRerankermodeltocomputenormalizedsim-\n\nilarityscoress (e,c).Retainonlythosepairssatis-\n\ntrievalemploysTF–IDFvectorizationandcosinesimilarity\n\nrerank\n\nagainst a precomputed document–UID mapping matrix to fying:\n\ncapture keyword-level matches. Specifically, during initial-\n\nization, the system generates a sparse feature matrix over\n\nall patient records and builds a mapping from each UID to\n\nwhereτ isapresetthreshold(e.g.,0.9).\n\nitsrowindexinthematrix.Atretrievaltime,thequerytext\n\nThecombinedentitysimilarityscoreisdefinedas:\n\nisconvertedintoaTF–IDFvectorandcomparedviacosine\n\nsimilarity to candidate documents’ sparse vectors, yielding\n\nifexactmatchsucceeds;\n\naninitialTop-KlistofcandidateUIDs.\n\nifsemanticmatchand\n\nSimultaneously, dense retrieval loads a locally de-\n\nentity\n\nployed BGE embedding model to project the query into a\n\notherwise.\n\nhigh-dimensionalsemanticspaceandleveragesaFAISSin-\n\ndex for nearest-neighbor search, retrieving the Top-K con-\n\nPatient Relation Path Retrieval: For each entity–node\n\ntent blocks that are semantically closest to the query. This\n\npair with the module executes a\n\napproach captures deeper semantic associations and syn-\n\nCypherqueryinNeo4jtotraverseallrelationsdirectlycon-\n\nonymic relationships, compensating for sparse retrieval’s\n\nnectedtopatientnodes(labelPatient),extractingrelation\n\nkeywordlimitations.\n\ntypesrandpatientidentifiersp.Eachrelationpathisencap-\n\nTobalanceexactkeywordmatchingwithsemanticrecall,\n\nsulatedasastatement\n\nHyFedRAG\n\nmerges candidate pools retrieved from sparse\n\n(TF–IDF)anddense(RerankModel)pipelines,andthenap-\n\nplies a hybrid reranking strategy. The final relevance score\n\nand carries the previously computed entity similarity score\n\nforacandidatedocumentdiscomputedas:\n\ns (e,c)asitsinitialscore.\n\nSemantic Reranking",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 4,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:59.546245Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_4_sub_1",
    "chunk_type": "page_subchunk",
    "text": "Model)pipelines,andthenap-\n\nplies a hybrid reranking strategy. The final relevance score\n\nand carries the previously computed entity similarity score\n\nforacandidatedocumentdiscomputedas:\n\ns (e,c)asitsinitialscore.\n\nSemantic Reranking and Summary Selection:\n\nGiven\n\ntfidf reranker\n\nthe set of candidate the\n\n(query,m)\n\nmodule applies reranker model to each pair to\n\nwhere is the query, denotes the cosine\n\ntfidf\n\ncompute a normalized statement score It then\n\nsimilarity between and under TF–IDF representations,\n\ncomputesthefinalscoreviaaweightedfusion:\n\nand represents the normalized semantic rel-\n\nreranker\n\nevance score produced by a locally deployed FlagReranker\n\nfinal entity stmt\n\nmodel.Thehyperparameterα∈[0,1]controlsthetrade-off\n\nwhere balances entity matching against seman-\n\nbetween sparse retrieval precision and deep semantic rele-\n\ntic reranking. The system ranks candidates by in de-\n\nvance.\n\nfinal\n\nscendingorder,deduplicatesbypatientp(retainingonlythe\n\nScore(q,d)\n\nAfter computing for all candidates, docu-\n\nhighest-scoringpathperpatient),andselectsthetopK\n\nmentsarerankedindescendingorderoftheirscores.Finally,\n\ntientstoformthestructuredrelation-pathsummary.\n\ntop-k\n\nthe text segments are selected as input to the down-\n\nstreamsummarizationmodule.\n\n(3) SQL Retrieval Module This module performs re-\n\nThishybridscoringformulationallowsHyFedRAGtody-\n\ntrievaloverstructuredpatientrecordsstoredinaclient-side\n\nnamically adjust its retrieval emphasis—from strict lexical\n\nrelationaldatabase,andconsistsofthreemainsteps:\n\noverlap to deep semantic relevance—by tuning thereby\n\nFortheinputqueryq,applyalocally\n\nEntityExtraction:\n\nachieving a more robust retrieval pipeline across diverse\n\ndeployed NER model to extract the set of medical entities:\n\nquerytypes.\n\n1 2 m\n\n(2)KGRetrievalModule\n\nNext,wewillintroducetheen-\n\nUsingtheextractedentitysetE(q) =\n\nHybridRetrieval:\n\ntitymatching,thepatientretrievalandsummaryselection.\n\nthe system performs a retrieval process for\n\neach entity via MySQL full-text search. Specif-\n\nEntity Similarity Matching:\n\nFor each input query, the\n\nically, it uses both Boolean mode and Natural Language\n\nmodule first applies a locally deployed NER model to ex-\n\nmodetocom",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 4,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:59.547202Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_4_sub_2",
    "chunk_type": "page_subchunk",
    "text": " for\n\neach entity via MySQL full-text search. Specif-\n\nEntity Similarity Matching:\n\nFor each input query, the\n\nically, it uses both Boolean mode and Natural Language\n\nmodule first applies a locally deployed NER model to ex-\n\nmodetocomputetwosparsescores:\n\ntractthesetofassociatedmedicalentitiesE ={e ,...,e }\n\nfromthequerytext.Then,itperformsatwo-stagematching\n\nBoolean Score\n\n1. Full-text relevance com-\n\nprocessforeachentitye∈E:\n\nputedusingMySQL’sBooleanmode.\n\nNaturalLanguageScore(S (e,d)):Semantic-likeness\n\nExact Matching Stage:\n\n1. Execute an exact lookup in the\n\nscorecomputedviaNaturalLanguagemode.\n\nNeo4jgraphdatabaseusingtheentityidentifier.Ifanode\n\nis found and its label is not in the exclusion set , For each result the system then applies application-level\n\nassignasimilarityscore:s (e,c)=1.0.\n\nheuristicstocompute:",
    "token_count": 202,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 4,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1123
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:10:59.547865Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_5_sub_0",
    "chunk_type": "page_subchunk",
    "text": "Exact Match:\n\n• Binary indicator of whether entity oc- Clients can flexibly configure the module depending on\n\ncursverbatimind’stext.\n\nthe data modality and privacy requirements. For example,\n\nin clinical applications, Presidio may anonymize patient\n\nPhraseSimilarityS (e,d):Stringsimilaritybetween\n\nrecords,Eraser4RAGfiltersirrelevantnarrativedetails,and\n\neandtheconcatenatedtextusingembeddingmodel.\n\nTenSEALsecureslabvalueembeddings.\n\nThesesignalsarecombinedtoyieldafusionscore:\n\ns (e,d)=λ ·ExactMatch(e,d)\n\n4 Experiments\n\ncombined 1\n\n4.1 ExperimentalSetup\n\nImplementationDetails We use the PMC-Patients\n\ndataset(Zhao et al. 2022), from which we extract 50,000\n\n4 sim\n\npatient records and approximately 400,000 associated\n\nwhere are manually tuned weights. Docu-\n\narticles to construct three types of datasets: TEXT, SQL,\n\nmentsaresortedbydescendingExactMatchands\n\nandKG.\n\ncombined\n\ntop-N\n\nand results are retained per entity after UID-level\n\nThe TEXT version retains only the raw text content, ig-\n\ndeduplication.\n\nnoring original data structures. The SQL version preserves\n\nthe original structured format. The KG version is con-\n\nDeepReranking:\n\nForeachmergedcandidatesetfromall\n\nstructed using Llama-3.1-8B-Instruct to generate a knowl-\n\nentities, a final reranking step is performed using a local\n\nedgegraph(Dubeyetal.2024),andtheprompttemplatesfor\n\ncross-encodermodel:\n\ntriple extraction are provided in the appendix.We also use\n\nbge-reranker-v2-m3(Lietal.2023)asthererankingmodel.\n\nrerank Reranker\n\nNotably, to ensure generalizability, we do not perform any\n\nwhere denotes the deep relevance scoring func-\n\nReranker\n\nfine-tuning on this model and use the original checkpoint\n\ntion. The top records by are returned as the\n\nrerank\n\nas-is.\n\nfinalretrievaloutput.\n\nForprivacy-preservingsummarizationusinglocalLLMs,\n\nwe employ three different models: Llama-3.1-8B-Instruct\n\n3.4 Privacy-AwareSummaryGeneration\n\nand Gemma-2-9B-IT(Team et al. 2024). Anonymization is\n\nToensuredataprivacyinf",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 5,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:00.121900Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_5_sub_1",
    "chunk_type": "page_subchunk",
    "text": "-3.1-8B-Instruct\n\n3.4 Privacy-AwareSummaryGeneration\n\nand Gemma-2-9B-IT(Team et al. 2024). Anonymization is\n\nToensuredataprivacyinfederatedretrieval-augmentedgen-\n\nperformedusingthePresidioprivacyprotectiontoolkit.\n\neration, we design a local LLM-based privacy-aware sum-\n\nmary generation module that transforms sensitive client-\n\nBaselines We adopt the official leaderboard from PMC-\n\nside data into de-identified, semantically rich representa-\n\nPatients as the source for our baseline, specifically RRF\n\ntions suitable for global reasoning. This module operates\n\n(Zhaoetal.2022),DPR(SciMult-MHAExpert)(Zhangetal.\n\nentirelyon-device,preventingrawdataexposurewhilepre-\n\n2023),BM25 in PMC-Patients (Zhao et al. 2022),DPR (Bi-\n\nserving contextual integrity for downstream inference. We\n\noLinkBERT)(Zhaoetal.2022),DPR(PubMedBERT)(Zhao\n\nsupportmulti-granularityprivacyprotectionbyintegrat-\n\net al. 2022),bge-base-en-v1.5(Xiao et al. 2024),DPR\n\ningthreecomplementaryprivacy-preservingtools:\n\n(SPECTER)(Zhaoetal.2022),MedCPT-d(Jinetal.2023).\n\n• Presidio: An industrial-grade named entity recognition\n\nEvaluation Metrics We adopt standard information re-\n\n(NER) and anonymization framework, used for rule-\n\ntrievalmetrics—PrecisionatK(P@K,K=10),MeanRecip-\n\nbasedandmodel-basedidentificationofpersonallyiden-\n\nrocalRank(MRR),andNormalizedDiscountedCumulative\n\ntifiable information (PII). Presidio replaces sensitive\n\nGain (nDCG@K, K=10)—to evaluate the performance of\n\ntokens (e.g., names, addresses, IDs) with generalized\n\ntheretrievalmodule(Zhaoetal.2024).\n\nplaceholders, enabling coarse-grained de-identification\n\nwithminimalsemanticloss.\n\nForinformation-constrainedretrievers,suchastheSQL-\n\nbased and KG-based backends, we additionally introduce\n\n• Eraser4RAG: A recent lightweight module tailored\n\nP@K (K=1, 5) and Hit@K (K=5) to",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 5,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:00.122744Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_5_sub_2",
    "chunk_type": "page_subchunk",
    "text": ",suchastheSQL-\n\nbased and KG-based backends, we additionally introduce\n\n• Eraser4RAG: A recent lightweight module tailored\n\nP@K (K=1, 5) and Hit@K (K=5) to measure potential\n\nfor retrieval scenarios(Wang et al. 2025b). It identifies\n\nperformance degradation caused by incomplete or missing\n\nattribution-relevantspansandremovesormasksdatathat\n\nknowledge.\n\nisnon-essentialforansweringtheinputquery.Thispro-\n\nvidescontext-awaresanitization,balancingprivacywith\n\nFor local LLM-based summarization and privacy-\n\nutility by pruning only non-contributory sensitive con-\n\npreserving generation, where ground-truth references are\n\ntent.\n\nunavailable, we employ the geval scoring method from the\n\nDeepEvalframework(Liuetal.2023),usingGPT-4oasthe\n\n• TenSEAL: A homomorphic encryption library that al-\n\nevaluatormodel.\n\nlowslocalLLMstocomputeoverencryptedembeddings.\n\nWe support TenSEAL for high-sensitivity environments Finally, we report the end-to-end latency under a simu-\n\nwhere structural features or vector representations must lated federated retrieval setting. All local models are exe-\n\nbe computed or transmitted without ever exposing raw cuted on two NVIDIA RTX A6000 48GB GPUs. Cache-\n\nvalues. This enables fine-grained cryptographic protec- related latency improvements are evaluated in terms of the\n\ntionatthefeaturelevel. cachehitrate.",
    "token_count": 322,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 5,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1243
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:00.123377Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_6_sub_0",
    "chunk_type": "page_subchunk",
    "text": "Method\tModelType\tMRR(%)\tP@10(%)\tnDCG@10(%)\n\nMethod ModelType MRR(%) P@10(%) nDCG@10(%)\n\nMedCPT-d Ensemble 13.68 3.18 11.01\n\nDPR(SPECTER) Dual-encoder 15.08 3.79 12.27\n\nbge-base-en-v1.5 Encoder-only 16.20 3.78 13.02\n\nDPR(PubMedBERT) Dual-encoder 19.37 5.05 16.30\n\nDPR(BioLinkBERT) Dual-encoder 21.20 5.59 18.06\n\nBM25 Lexical 22.86 4.67 18.29\n\nDPR(SciMult-MHAExpert) Dual-encoder 25.34 6.66 22.40\n\nRRF Ensemble 27.76 6.96 24.12\n\nHyFedRAG(text)\n\nEnsemble 39.63 7.48 41.33\n\n△Relativegain\n\nTable1:RetrievalperformanceofHyFedRAG(text)againstbaselinetextretrievers.Relativegainsarecalculatedwithrespect\n\ntothebest-performingbaseline.\n\nText 39.63 30.5 13.19 7.48 41.33 52.83\n\nSQL 23.01 16.55 7.85 4.85 24.83 31.75\n\nKG 9.79 6.72 2.99 1.9 10.86 13.45\n\nTable2:Retrievalperformancecomparisonacrossdataformats(Text,SQL,KG),highlightingtheperformancedegradationin\n\nstructuredformatsduetosemanticinformationlossduringconstruction.\n\n4.2 MainResults\n\nGPT-40\n\ncriteria=(\n\n\"Instructions:\\n\"\n\n\"1) Scan the LLM summary for any raw identity-linking Pll, for example:\\n\"\n\n- Full patient names or aliases\\n\"\n\n- Medical record numbers, national IDs, SSNs\\n\"\n\n- Full home addresses or exact GPS coordinates\\n\"\n\n- Direct contact details (personal phone, personal email)\\n\"\n\nStandard placeholders (e.g. <NAME>, <ID>, <AGE>) count as fully redacted and\n\nshould boost the score.\\n\"\n\nIgnore any clinical or demographic details (diagnosis, procedures,",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 6,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:06.787741Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_6_sub_1",
    "chunk_type": "page_subchunk",
    "text": " details (personal phone, personal email)\\n\"\n\nStandard placeholders (e.g. <NAME>, <ID>, <AGE>) count as fully redacted and\n\nshould boost the score.\\n\"\n\nIgnore any clinical or demographic details (diagnosis, procedures, anatomy.\n\ndevices, timepoints, hospital names).\\n\\n\"\n\n\"2) Assign a base privacy score (1-5) based on the presence of raw Pll :\\n\"\n\n- 5 : No raw Pll remains (all identifying fields removed or replaced by\n\nplaceholders).\\n\"\n\n- 3 : Some raw Pll remains but partial (e.g., only a first name, truncated record\n\nnumber), or a mix of raw and placeholder-protected fields.\\n\"\n\n- 1 : Full raw Pll exposed (complete name, full record number, precise address)\n\nwithout placeholders.\\n\\n'\n\nTable1presentstheretrievalperformanceofvariousmodels\n\non the PMC-Patients dataset. Under the text setting, HyFe-\n\ndRAGconsistentlyoutperformsallbaselinemodels,achiev-\n\ning relative improvements of 1.87 %, 0.52 % and 17.21\n\n% in MRR, P@10 and nDCG@10, respectively. Notably,\n\neven retrievers specifically fine-tuned on the PMC-Patients\n\ndataset fall markedly short of HyFedRAG in retrieval ef-\n\nfectiveness. We performed privacy evaluations using GPT-\n\n4o within the DeepEval framework, with core the prompt\n\nshown in the Figure 3, and the full prompt is provided in\n\nthe appendix. Figure 4 shows that content generated after\n\napplication of the HyFedRAG privacy mechanism attains\n\nsubstantiallyhigherscoresintheGEvalprivacyassessment\n\nFigure 3: Illustration of Privacy Evaluation.DeepEval nor-\n\ncompared to unprotected outputs.This difference indicates\n\nmalizes the GPT-computed scores, which range from 1–5,\n\nthatbyleveragingthePresidio-basedmaskingprivacymod-\n\nintothe0–1interval,.\n\nule, HyFedRAG successfully reduces the risk of sensitive\n\ninformation leakage without noticeably compromising text\n\nLlama\n\nGemma\n\nBefore\n\nAfter\n\nPriva\n\nAverag\n\nDataSource\n\nreadabilityorinformationintegrity.Figure5showsthatow-\n\ningtotheincorporationofacachemodule,inferencelatency\n\nis reduced by approximately 80 %. These findings indicate\n\nthat",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 6,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:06.788961Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_6_sub_2",
    "chunk_type": "page_subchunk",
    "text": "\n\nAverag\n\nDataSource\n\nreadabilityorinformationintegrity.Figure5showsthatow-\n\ningtotheincorporationofacachemodule,inferencelatency\n\nis reduced by approximately 80 %. These findings indicate\n\nthatHyFedRAGnotonlydeliverssuperiorretrievalandgen-\n\neration performance in medical information tasks but also\n\nupholds user privacy and enhances system response effi-\n\nciency.\n\n4.3 Analysis\n\nAnalysis of fusion weight\n\nFigure 7 shows that perfor-\n\nFigure 4: Average privacy scores before (grey) and after\n\nmance peaks at increasing from 0.0 to 0.8\n\n(blue/orange) applying the HyFedRAG privacy mechanism\n\nimproves both MRR and nDCG@10, while further rais-\n\nfortwoLLM(left:Llama;right:Gemma)acrossthreedata\n\ning it to 1.0 degrades them. This upward trend under-\n\nsources(SQL,KG,RAG).\n\nscores that combining precise term-level matching (con-",
    "token_count": 220,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 6,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1141
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:06.789716Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_7_sub_0",
    "chunk_type": "page_subchunk",
    "text": "Cache Hit Rates by Layer and Method\n\nHit Rate\n\nCache Layer\n\n53.92\n\nllama Raw\n\nllama w/ Cache\n\ngemmai Raw\n\ngemmai w/ Cache\n\n41.61\n\n39.10\n\n32.97\n\n30.16\n\n30.32\n\nLatency\n\nTasks\n\nFigure6:Hitratesofthethreecachelayers(L1–L3)fortext-\n\nFigure 5: Inference latency comparison for two LLMs\n\nonly(RAG),SQL,andKGretrievalmethods,illustratingthe\n\n(Llamaingreen,Gemmainorange)acrossRAG,SQL,and\n\ncontributionofeachtiertooverallcacheefficiency.\n\nKGtasks,measuredbefore(solidbars)andafter(patterned\n\nbars)cacheoptimization.\n\ntierfurtherincreaseshitratesto21–23%,yieldingacumu-\n\nlative hit rate above 84% and a miss rate of only 14–16%,\n\ntrolled by with semantic embeddings significantly en-\n\nwhichcorrespondstoanapproximate80%reductioninaver-\n\nhances the model’s ability to place the correct documents\n\nageaccesslatency.Thisablationanalysisdemonstratesthat\n\nat the top during the re-ranking stage. However, pushing\n\none-hopneighborprefetchinglaysthefoundationfordeeper\n\nbeyond 0.8 to 1.0—effectively reverting to a purely lex-\n\nprefetching, while two-hop neighbor prefetching combined\n\nical matching regime—causes both metrics to drop (MRR\n\nwithstatichotspotsmaximizescacheefficiency,andthatthe\n\nfalls to 0.54 and nDCG@10 to 0.63). We interpret this de-\n\nsynergistic effect of the three tiers substantially enhances\n\ncline as evidence that over-emphasizing exact token over-\n\nsystemresponsiveness.\n\nlapcomesattheexpenseofcapturingrelevantbutlexically\n\ndivergent “long-tail” medical information. In domains like\n\nRetrieval Metrics vs. Alpha\n\nPeakMRR\n\nα=0.8\n\nScore\n\nnDCG@10\n\nPrecision@1\n\nPrecision@5\n\n?Hit@5\n\nAlpha\n\nclinicalquestionanswering,maintainingabalancebetween\n\nterm-levelprecisionandsemanticgeneralizationistherefore\n\ncrucial:thesweetspotaroundα = 0.8achievesstrongex-\n\nact matches for common terminology, while still recalling\n\n",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 7,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:13.696682Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_7_sub_1",
    "chunk_type": "page_subchunk",
    "text": "questionanswering,maintainingabalancebetween\n\nterm-levelprecisionandsemanticgeneralizationistherefore\n\ncrucial:thesweetspotaroundα = 0.8achievesstrongex-\n\nact matches for common terminology, while still recalling\n\nnuancedcasesdescribedwithatypicalphrasing.\n\nAnalysis of different data formats Table 2 shows that\n\ndata format significantly affects retrieval quality: text input\n\nbestleveragesimplicitterm–contextrelations;SQLqueries\n\nsuffer loss of deep semantics due to fixed schema; and KG\n\nformat, despite explicit entity links, further underperforms,\n\nunderscoringtheneedforadditionalsemanticaugmentation\n\nin structured formats.This indicates that during data con-\n\nFigure7:Retrievalmetricsplottedagainstthefusionweight\n\nstruction we need more advanced methods to minimize se-\n\nαinTextRetrievalModule.\n\nmanticinformationlossinthetextualcontent.\n\nAnalysisofcache\n\nToquantifytheimpactofourthree-tier\n\ncachingandprefetchingstrategyonsystemperformance,we\n\n5 Conclusion\n\nsimulated realistic clinical retrieval behavior by generating\n\nquerysequences—comprising100warm-upand500testre- In this work, we introduced HyFedRAG, a federated\n\nquests—viaarandom-walkprocesswithrestart,dwell,and retrieval-augmented generation framework that unifies\n\nsession-memorymechanismsoveradocument–entityasso- structured, semi-structured, and unstructured medical data\n\nciation graph; we then employed a hierarchical cache in under strict privacy controls. Through local retrieval,\n\nwhichthetoptierusesapureLRUpolicy,themiddletierdy- privacy-preserving summarization, and a novel three-tier\n\nnamicallyprefetchesone-hopneighborsofeachquery,and cachemechanism,HyFedRAGreducesinferencelatencyby\n\nthe bottom tier combines a static hotspot set with dynamic upto80%,whileoutperformingcentralizedbaselinesonthe\n\ntwo-hop neighbor prefetching to record hit and miss rates. PMC-Patientsdatasetintermsofretrievalaccuracy(MRR,\n\nTheresultsshowthatacrosstext-only,SQL,andknowledge- P@10, nDCG@10), generation quality, and GEval privacy\n\ngraph retrieval methods, the top tier achieves hit rates of scores. Future work will explore adaptive fusion strategies,\n\n45.4%, 47.1%, and 47.8% respectively,",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 7,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:13.702608Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_7_sub_2",
    "chunk_type": "page_subchunk",
    "text": "DCG@10), generation quality, and GEval privacy\n\ngraph retrieval methods, the top tier achieves hit rates of scores. Future work will explore adaptive fusion strategies,\n\n45.4%, 47.1%, and 47.8% respectively, the middle tier in- tighter integration of differential privacy, and support for\n\ntercepts an additional 15–17% of requests, and the bottom multimodalclinicalinputs.",
    "token_count": 86,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 7,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1007
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:13.712106Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": true,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_8_sub_0",
    "chunk_type": "page_subchunk",
    "text": "References\n\nB. 2021. Dual Reader-Parser on Hybrid Textual and Tab-\n\nular Evidence for Open Domain Question Answering. In\n\nAleman, F. L.; Almeida, D.; Altenschmidt, J.; Altman, S.;\n\nProceedingsofthe59thAnnualMeetingoftheAssociation\n\narXiv\n\nAnadkat, S.; et al. 2023. Gpt-4 technical report.\n\nfor Computational Linguistics and the 11th International\n\npreprintarXiv:2303.08774.\n\nJointConferenceonNaturalLanguageProcessing(Volume\n\nBalasubramanian, A.; Kumar, A.; Liu, Y.; Cao, H.;\n\n1:LongPapers),4078–4088.\n\nVenkataraman, S.; and Akella, A. 2021. Accelerating\n\narXiv preprint\n\ndeep learning inference via learned caches.\n\nLi, C.; Liu, Z.; Xiao, S.; and Shao, Y. 2023. Making large\n\narXiv:2101.07344.\n\nlanguage models a better foundation for dense retrieval.\n\narXivpreprintarXiv:2312.15503.\n\nBehnamGhader, P.; Adlakha, V.; Mosbach, M.; Bahdanau,\n\nD.;Chapados,N.;andReddy,S.2024. Llm2vec:Largelan-\n\nLin, W.; Blloshmi, R.; Byrne, B.; de Gispert, A.; and Igle-\n\nguage models are secretly powerful text encoders.\n\nsias,G.2023. Aninnertableretrieverforrobusttableques-\n\npreprintarXiv:2404.05961.\n\nInProceedingsofthe61stAnnualMeeting\n\ntionanswering.\n\nBenaissa, A.; Retiat, B.; Cebere, B.; and Belfedhal, A. E.\n\noftheAssociationforComputationalLinguistics(Volume1:\n\n2021. Tenseal: A library for encrypted tensor oper-\n\nLongPapers),9909–9926.\n\nations using homomorphic encryption.\n\narXiv:2104.03152.\n\n2023. G-Eval:NLGEvaluationusingGpt-4withBetterHu-\n\nInProceedingsofthe2023Conferenceon\n\nmanAlignment.\n\nEmpiricalMethodsinNaturalLanguageProcessing,2511–\n\nDe Gusm˜ ao, P",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 8,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      511
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:14.124396Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_8_sub_1",
    "chunk_type": "page_subchunk",
    "text": "3. G-Eval:NLGEvaluationusingGpt-4withBetterHu-\n\nInProceedingsofthe2023Conferenceon\n\nmanAlignment.\n\nEmpiricalMethodsinNaturalLanguageProcessing,2511–\n\nDe Gusm˜ ao, P. P. B.; et al. 2020. Flower: A friendly\n\n2522.\n\nfederated learning research framework.\n\narXiv:2007.14390.\n\nOpenDomainQuestionAnsweringwithAUnifiedKnowl-\n\nChristmann,P.;andWeikum,G.2024. Rag-basedquestion\n\nInProceedingsofthe60thAnnualMeeting\n\nedgeInterface.\n\narXivpreprint\n\nansweringoverheterogeneousdataandtext.\n\narXiv:2412.07420.\n\nLongPapers),1605–1620.\n\nDubey,A.;Jauhri,A.;Pandey,A.;Kadian,A.;Al-Dahle,A.;\n\nMicrosoft. 2021. Presidio: A Privacy-Preserving PII De-\n\ntection and Anonymization Toolkit. https://github.com/\n\narXiv e-prints,\n\net al. 2024. The llama 3 herd of models.\n\nmicrosoft/presidio. Accessed:2025-08-01.\n\narXiv–2407.\n\nMin,D.;Xu,Z.;Qi,G.;Huang,L.;andYou,C.2025. Uni-\n\nHerzig, J.; Mueller, T.; Krichene, S.; and Eisenschlos, J.\n\nHGKR: Unified Instruction-aware Heterogeneous Knowl-\n\n2021. Open Domain Question Answering over Tables via\n\nInProceedingsofthe2025Conferenceof\n\nedgeRetrievers.\n\nInProceedingsofthe2021Conferenceof\n\nDenseRetrieval.\n\nthe Nations of theAmericas Chapter of the Association for\n\ntheNorthAmericanChapteroftheAssociationforCompu-\n\nComputationalLinguistics:HumanLanguageTechnologies\n\ntational Linguistics: Human Language Technologies,\n\n(Volume1:LongPapers),4577–4594.\n\nSchick,T.;Dwivedi-Yu,J.;Dess`ı,R.;Raileanu,R.;Lomeli,\n\nQuestion decomposition tree for answering complex ques-\n\nM.; Hambro, E.; Zettlemoyer, L.; Cancedda, N.; and\n\nProceedings of the AAAI\n\ntions over knowledge bases. In\n\nScialom,T.2023. Toolformer",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 8,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      461,
      972
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:14.125469Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_8_sub_2",
    "chunk_type": "page_subchunk",
    "text": " complex ques-\n\nM.; Hambro, E.; Zettlemoyer, L.; Cancedda, N.; and\n\nProceedings of the AAAI\n\ntions over knowledge bases. In\n\nScialom,T.2023. Toolformer:Languagemodelscanteach\n\nConference on Artificial Intelligence,\n\nvolume 37, 12924–\n\nAdvances in Neural Information\n\nthemselves to use tools.\n\n12932.\n\nProcessingSystems,36:68539–68551.\n\nHuang, X.; Zhang, J.; Li, D.; and Li, P. 2019. Knowledge\n\nSeo,M.2024. REPLUG:Retrieval-AugmentedBlack-Box\n\ngraphembeddingbasedquestionanswering.InProceedings\n\nNAACL 2024.\n\nLanguage Models. In Association for Com-\n\nofthetwelfthACMinternationalconferenceonwebsearch\n\nputationalLinguistics(ACL).\n\nanddatamining,105–113.\n\nTeam,G.;Riviere,M.;Pathak,S.;Sessa,P.G.;Hardin,C.;\n\nBhupatiraju, S.; Hussenot, L.; Mesnard, T.; Shahriari, B.;\n\nWilbur, W. J.; and Lu, Z. 2023. Medcpt: Contrastive pre-\n\ne,A.;etal.2024. Gemma2:Improvingopenlanguage\n\ntrainedtransformerswithlarge-scalepubmedsearchlogsfor\n\nmodelsatapracticalsize.arXivpreprintarXiv:2408.00118.\n\nBioinformatics,\n\nzero-shotbiomedicalinformationretrieval.\n\n39(11):btad651.\n\nZheng, Z. 2025a. MaFeRw: Query rewriting with multi-\n\naspect feedbacks for retrieval-augmented large language\n\nFaloutsos, C.; Rangwala, H.; and Karypis, G. 2024.\n\nProceedings of the AAAI Conference on Artifi-\n\nmodels. In\n\nOpentab:Advancinglargelanguagemodelsasopen-domain\n\ncialIntelligence,volume39,25434–25442.\n\narXivpreprintarXiv:2402.14361.\n\ntablereasoners.\n\nKosti´ c,B.;Risch,J.;andM¨ oller,T.2021. Multi-modalRe- Wang,Y.;Zhang,H.;Pang,L.;Tong,Y.;Guo,B.;Zheng,H.;\n\ntrieval of Tables and Texts",
    "token_count": 512,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 8,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      922,
      1433
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:14.126353Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_8_sub_3",
    "chunk_type": "page_subchunk",
    "text": ",B.;Risch,J.;andM¨ oller,T.2021. Multi-modalRe- Wang,Y.;Zhang,H.;Pang,L.;Tong,Y.;Guo,B.;Zheng,H.;\n\ntrieval of Tables and Texts Using Tri-encoder Models. In andZheng,Z.2025b. LearningtoErasePrivateKnowledge\n\nProceedings of the 3rd Workshop on Machine Reading for\n\nfrom Multi-Documents for Retrieval-Augmented Large\n\nQuestionAnswering,82–91. arXivpreprintarXiv:2504.09910.\n\nLanguageModels.",
    "token_count": 125,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 8,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      1383,
      1507
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:14.127238Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page",
      "subchunk"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
,
  {
    "document_id": "0c86578503ba285b0e4e0281e8150384",
    "file_name": "graph_rag_sep_2025.pdf",
    "chunk_id": "0c86578503ba285b0e4e0281e8150384_page_9",
    "chunk_type": "page",
    "text": "Jiang, X.; Gao, B.; and Lu, J. 2024. Fedcache: A knowl-\n\nedge cache-driven federated learning architecture for per-\n\nIEEE Transactions on Mobile\n\nsonalized edge intelligence.\n\nComputing,23(10):9368–9382.\n\nXiao,S.;Liu,Z.;Zhang,P.;Muennighoff,N.;Lian,D.;and\n\nNie, J.-Y. 2024. C-pack: Packed resources for general chi-\n\nInProceedingsofthe47thinternational\n\nneseembeddings.\n\nACMSIGIRconferenceonresearchanddevelopmentinin-\n\nformationretrieval,641–649.\n\n2024. Adacomp:Extractivecontextcompressionwithadap-\n\ntive predictor for retrieval-augmented large language mod-\n\narXivpreprintarXiv:2409.01579.\n\nGao,J.2023. Pre-trainingMulti-taskContrastiveLearning\n\nInFindings\n\nModelsforScientificLiteratureUnderstanding.\n\nof the Association for Computational Linguistics: EMNLP\n\n2023,12259–12275.\n\nZhao,W.X.;Liu,J.;Ren,R.;andWen,J.-R.2024. Dense\n\ntextretrievalbasedonpretrainedlanguagemodels:Asurvey.\n\nACMTransactionsonInformationSystems,42(4):1–60.\n\nZhao,Z.;Jin,Q.;Chen,F.;Peng,T.;andYu,S.2022. Pmc-\n\npatients:Alarge-scaledatasetofpatientsummariesandrela-\n\ntionsforbenchmarkingretrieval-basedclinicaldecisionsup-\n\narXivpreprintarXiv:2202.13876.\n\nportsystems.\n\nW.; and Zheng, Z.-M. 2024. Safely Learning with Private\n\nData:AFederatedLearningFrameworkforLargeLanguage\n\nModel.InProceedingsofthe2024ConferenceonEmpirical\n\nMethodsinNaturalLanguageProcessing,5293–5306.\n\nAcknowledgments\n\nThis work was funded by the National Natural Science\n\nFoundation of China (NSFC) under Grants No. 62406013,\n\nthe Beijing Advanced Innovation Center Funds for Future\n\nBlockchain and Privacy Computing and the Fundamental\n\nResearchFundsfortheCentralUniversities.",
    "token_count": 470,
    "embedding": null,
    "file_type": "application/pdf",
    "source_url": "s3://e2e-rag-system-42/data/raw/pdfs/graph_rag_sep_2025.pdf",
    "page_number": 9,
    "slide_range": null,
    "row_range": null,
    "token_range": [
      0,
      469
    ],
    "audio_range": null,
    "timestamp": "2025-09-23T15:11:14.276484Z",
    "parser_version": null,
    "tags": null,
    "layout_tags": [
      "page"
    ],
    "used_ocr": false,
    "heading_path": [],
    "headings": [],
    "line_range": null
  }
]
